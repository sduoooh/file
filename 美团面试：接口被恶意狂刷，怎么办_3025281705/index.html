<div class="CollectionItem"><h1>美团面试：接口被恶意狂刷，怎么办？</h1><span class="RichText ztext CopyrightRichText-richText css-1g0fqss" itemprop="text" options="[object Object]"><p data-first-child="" data-pid="7yIfRSZ6">这题早就有标准答案了，30年前就用来对付垃圾邮件，PoW。</p><p class="ztext-empty-paragraph"><br/></p><p data-pid="3aM-USmk">要求客户端做一些垃圾运算，这种运算的特点是计算困难，检查简单。</p><p data-pid="_JDio4Z5">计算的输入中，有时间戳，所以可以控制重放攻击，如果你想刷接口，就必须进行很多垃圾运算。</p><p data-pid="SPQ8XsTv">对正常客户端来说，只是慢零点几秒，几乎无感。</p><p data-pid="b9SgVIOO">对刷接口的人来说，就需要投入大量资源，大大降低效率。</p><p data-pid="dPbA8Z_e">甚至，还可以通过参数控制难度，第一次请求只需要垃圾计算零点几秒。</p><p data-pid="DoOIzpVm">如果同一个IP频繁请求，我就让你计算几秒钟。</p><p class="ztext-empty-paragraph"><br/></p><p data-pid="t3DAoJaI">再配合验证码之类的，绝对可以让刷接口的怀疑人生。</p></span><link href="../style.css" rel="stylesheet"/><div class="ContentItem-time"><a href="https://www.zhihu.com/answer/3025281705" target="_blank"><span aria-label="发布于 2023-05-12 22:33" data-tooltip="发布于 2023-05-12 22:33">发布于 2023-05-12 22:33</span></a>・IP 属地北京</div></div>